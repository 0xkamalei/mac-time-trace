# Timing App 产品需求文档 (PRD)

## 1. 概述
Timing App 是一款专为 macOS 设计的自动时间跟踪应用程序，旨在帮助用户（特别是自由职业者、专业人士和团队）准确记录时间、管理项目并提升生产力。该应用通过自动记录用户在 Mac 上使用的应用程序、网站和文档，提供详细的时间使用洞察和生产力分析，帮助用户优化工作流程。其直观的界面和智能交互逻辑确保用户体验流畅，同时保护数据隐私。

## 2. 问题陈述
许多用户在处理多个项目或任务时难以准确跟踪时间。手动时间记录繁琐，容易出错或遗漏，导致计费不准确或生产力分析不足。市场上需要一款能够自动记录时间、提供易用界面并支持深度分析的解决方案，以满足自由职业者、专业人士和团队的需求。

## 3. 目标用户
- **自由职业者**：需要根据时间精确计费的用户。
- **专业人士**：希望提高生产力和时间管理能力的个人。
- **团队**：需要在项目中跟踪时间，同时保护个人隐私的团队。
- **普通用户**：希望了解自己在 Mac 上时间分配的任何人。

## 4. 产品愿景与目标
**愿景**：成为 macOS 上最佳的自动时间跟踪解决方案，提供无与伦比的准确性、易用性和分析能力。  
**目标**：
- 实现自动、精确的时间跟踪，无需手动干预。
- 提供直观的界面，用于分配时间和分析生产力。
- 与其他工具和设备无缝集成，提供全面的时间跟踪解决方案。
- 确保用户隐私和数据安全。

## 5. 功能与功能需求
以下是 Timing App 的核心 UI 功能和交互逻辑，专注于用户界面和用户交互设计：

### 5.1 自动时间跟踪
- **功能**：自动记录用户在 Mac 上使用的应用程序、网站和文档的时间。
- **交互逻辑**：
  - 应用在后台运行，无需用户手动启动或停止计时器。
  - 检测用户停止使用 Mac 的空闲时间，自动排除这些时间。
  - 用户可选择启用手动计时器以增加责任感，界面提供“开始/停止”按钮。
- **UI 元素**：
  - 后台运行指示器（状态栏图标）。
  - 可选的手动计时器按钮，位于主界面或菜单栏。

### 5.2 时间分配
- **功能**：通过拖放操作将记录的时间分配到项目中。
- **交互逻辑**：
  - 用户在时间线视图中选择活动块，拖放到项目列表中。
  - 按住 ⌥ 键拖放，创建自动化规则（如“所有 Safari 浏览记录分配到‘研究’项目”）。
  - 规则创建后，系统自动应用到类似活动，减少手动操作。
- **UI 元素**：
  - 时间线视图：显示活动块（按时间顺序排列）。
  - 项目列表：支持拖放的目标区域。
  - 规则管理面板：用于查看和编辑自动化规则。

### 5.3 智能时间线
- **功能**：智能时间线自动组合相关的时间块，提供清晰的视图。
- **交互逻辑**：
  - 时间线按时间顺序显示活动，自动分组相关任务（如多个 Word 文档）。
  - 用户可点击时间线上的空白区域添加事后时间条目（如离线会议）。
  - 支持放大/缩小时间线，查看不同时间范围（小时、天、周）。
- **UI 元素**：
  - 时间线视图：交互式、可缩放的时间轴。
  - 添加时间条目按钮：位于时间线空白区域，点击后弹出输入框。

### 5.4 AI 驱动洞察
- **功能**：使用 AI 自动总结活动、分组相关任务、突出关键主题，并建议准确的时间条目。
- **交互逻辑**：
  - AI 分析活动数据，生成简洁的总结报告（如“上午 2 小时用于文档编辑”）。
  - 用户可通过点击“接受”或“编辑”按钮确认或调整 AI 建议。
  - 支持自定义 AI 分组逻辑（如按文件类型或网站类别）。
- **UI 元素**：
  - 洞察面板：显示 AI 生成的总结和建议。
  - 确认/编辑按钮：位于每个建议条目旁。

### 5.5 生产力跟踪
- **功能**：为每个项目分配生产力评分，跟踪生产力改进。
- **交互逻辑**：
  - 用户在项目设置中为项目分配生产力分数（0-100%）。
  - 应用计算加权平均生产力得分，显示在报告中。
  - 用户可查看生产力趋势图，分析时间分配效率。
- **UI 元素**：
  - 项目设置面板：包含生产力评分输入框。
  - 生产力趋势图：显示在报告视图中。

### 5.6 日历和通话集成
- **功能**：与用户日历集成，支持自动记录通话和会议时间。
- **交互逻辑**：
  - 检测通话或会议结束后，弹出提示窗口，询问用户记录活动详情。
  - 支持从 iPhone 导入通话记录，自动关联到时间线。
  - 用户可将日历事件拖放到时间线，快速分配时间。
- **UI 元素**：
  - 日历视图：显示导入的日历事件。
  - 提示窗口：包含活动描述输入框和确认按钮。

### 5.7 活动跟踪
- **功能**：记录具体的应用程序、文档（完整文件路径）和网站（完整 URL）。
- **交互逻辑**：
  - 应用在后台记录活动，无需用户干预。
  - 检测 Mac 空闲状态，暂停记录，返回时弹出提示记录离线活动。
- **UI 元素**：
  - 活动列表：显示详细的应用程序、文档和网站记录。
  - 空闲提示窗口：包含离线活动输入框。

### 5.8 项目管理
- **功能**：支持无限项目，拖放分配活动。
- **交互逻辑**：
  - 用户可创建、编辑和删除项目。
  - 通过拖放将活动分配到项目。
  - 支持通过 ⌥-拖放创建自动化规则。
- **UI 元素**：
  - 项目管理面板：包含创建/编辑项目按钮。
  - 拖放区域：支持活动分配。

### 5.9 团队功能
- **功能**：支持团队共享项目和时间条目，管理员仅查看汇总数据。
- **交互逻辑**：
  - 团队成员通过 Web 应用报告项目时间。
  - 管理员在 Web 应用中查看汇总报告，个人数据受保护。
- **UI 元素**：
  - 团队管理面板：显示共享项目和成员列表。
  - Web 应用报告视图：显示汇总时间数据。

### 5.10 移动和 Web 集成
- **功能**：通过 Web 应用（web.timingapp.com）启动/停止计时器，与 Mac 应用同步。
- **交互逻辑**：
  - 用户在手机浏览器中访问 Web 应用，添加至主屏幕作为 PWA。
  - 支持基于日历事件的事后时间记录。
  - 数据通过 Timing Sync 账户在 Mac 和 Web 间同步。
- **UI 元素**：
  - Web 应用界面：包含计时器控制按钮和时间线视图。
  - 同步状态指示器：显示数据同步进度。

### 5.11 API 和集成
- **功能**：提供 Web API 和 Zapier 集成，支持自定义工作流。
- **交互逻辑**：
  - 开发者通过 Web API（web.timingapp.com/docs）与第三方工具集成。
  - 用户通过 Zapier 将时间数据发送到 Google Sheets 或其他工具。
- **UI 元素**：
  - 集成设置面板：包含 API 密钥和 Zapier 配置选项。

### 5.12 报告和导出
- **功能**：生成详细报告（按周、日或小时），支持多种格式导出。
- **交互逻辑**：
  - 用户选择报告范围（周、日、小时）和格式（PDF、XLSX、CSV、HTML）。
  - 支持与 GrandTotal 集成生成发票。
- **UI 元素**：
  - 报告生成面板：包含时间范围选择器和导出按钮。
  - 发票集成按钮：链接到 GrandTotal。

### 5.13 避免拖延
- **功能**：菜单栏小部件实时显示已用时间和生产力分数。
- **交互逻辑**：
  - 用户点击菜单栏小部件，查看当前时间使用和生产力得分。
  - 小部件支持快速切换到主应用界面。
- **UI 元素**：
  - 菜单栏小部件：显示时间和生产力分数。

### 5.14 隐私
- **功能**：确保数据隐私，本地存储数据，提供清晰的隐私政策。
- **交互逻辑**：
  - 用户可选择是否启用数据同步。
  - 隐身模式浏览器标签的数据不记录。
- **UI 元素**：
  - 隐私设置面板：包含同步开关和隐私政策链接。

## 6. 非功能需求
- **兼容性**：支持最新版本的 macOS。
- **性能**：最小化对系统资源的影响。
- **安全性**：数据存储和传输采用加密技术。
- **可访问性**：UI 设计符合无障碍标准。

## 7. 技术限制
- **平台限制**：仅支持 macOS，依赖 macOS 特定 API。
- **集成限制**：iOS 设备支持仅限于 Web 应用，需进一步开发原生应用。

## 8. 成功指标
- 用户满意度评分（目标：平均 4.5/5）。
- 订阅续费率（目标：80% 以上）。
- 活跃用户数量（目标：每月增长 10%）。
- 时间跟踪准确性（目标：与手动方法相比误差小于 5%）。
- 高级功能使用率（如 AI 总结、团队共享，目标：50% 用户使用）。

## 9. 时间表和里程碑
- **初始开发**：6 个月。
- **Beta 测试**：2 个月。
- **正式发布**：Beta 测试成功后。
- **定期更新**：每季度发布新功能和改进。

## 10. 风险与缓解措施
- **用户采用风险**：用户可能不愿从手动跟踪或其他工具切换。
  - **缓解措施**：提供 30 天免费试用、清晰的价值主张和优质客户支持。
- **隐私担忧**：用户可能对自动跟踪功能感到担忧。
  - **缓解措施**：透明的隐私政策、本地存储选项和明确的数据使用说明。
- **技术问题**：与未来 macOS 更新的兼容性。
  - **缓解措施**：定期更新并在 macOS Beta 版本上测试。

## 11. 参考资料
- [Timing App 官方网站](https://timingapp.com/)
- [Timing App 功能页面](https://timingapp.com/features)
- [Timing App 帮助文档](https://timingapp.com/help)

## 12. 功能交互逻辑表
| **功能** | **UI 元素** | **交互逻辑** |
|----------|-------------|---------------|
| 自动时间跟踪 | 状态栏图标、手动计时器按钮 | 后台记录活动，检测空闲时间，排除非活跃时间。 |
| 时间分配 | 时间线视图、项目列表、规则管理面板 | 拖放分配时间，⌥-拖放创建自动化规则。 |
| 智能时间线 | 交互式时间轴、添加时间条目按钮 | 自动分组活动，支持事后时间记录，缩放查看不同时间范围。 |
| AI 驱动洞察 | 洞察面板、确认/编辑按钮 | AI 生成总结，用户确认或调整建议。 |
| 生产力跟踪 | 项目设置面板、生产力趋势图 | 分配生产力分数，查看趋势图。 |
| 日历和通话集成 | 日历视图、提示窗口 | 自动检测通话/会议结束，提示记录，支持日历事件拖放。 |
| 活动跟踪 | 活动列表、空闲提示窗口 | 后台记录详细活动，空闲后提示记录离线活动。 |
| 项目管理 | 项目管理面板、拖放区域 | 创建/编辑项目，拖放分配活动，创建自动化规则。 |
| 团队功能 | 团队管理面板、Web 报告视图 | 共享项目，管理员查看汇总数据。 |
| 移动和 Web 集成 | Web 应用界面、同步状态指示器 | 手机启动/停止计时器，同步数据，支持事后记录。 |
| API 和集成 | 集成设置面板 | 配置 API 密钥和 Zapier 集成。 |
| 报告和导出 | 报告生成面板、发票集成按钮 | 选择报告范围和格式，导出或生成发票。 |
| 避免拖延 | 菜单栏小部件 | 实时显示时间和生产力分数，快速切换到主界面。 |
| 隐私 | 隐私设置面板 | 控制数据同步，查看隐私政策。 |